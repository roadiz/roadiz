{% if not head.ajax %}{% set baseTemplate = '@Rozier/base.html.twig' %}{% else %}{% set baseTemplate = '@Rozier/ajaxBase.html.twig' %}{% endif %}{% extends baseTemplate %}


{% block content %}
<section id="auto-update" class="content-global auto-update" {% if errors %}data-update="false"{% else %}data-update="true"{% endif %}>
    <header class="content-header header-cache header-about-cms">
        <h1 class="content-title about-cms-title">{% trans %}update.roadiz{% endtrans %}</h1>
    </header>
    <article class="content content-delete content-no-action-menu">
        <div class="content-table-cont">
            {% if errors %}
            <ul class="uk-alert uk-alert-danger">
                {% for error in errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% else %}

            <div id="update-progress-bar" class="uk-progress uk-progress-striped uk-active">
                <div class="uk-progress-bar" style="width: 0%;"></div>
            </div>
            <p id="update-progress-message"></p>
            <hr />

            <a id="update-done-button" data-done-text="{% trans %}update.done.back_to_home{% endtrans %}" href="{{ path('adminHomePage') }}" class="uk-button rz-no-ajax-link" disabled><i class="uk-icon-refresh uk-icon-spin"></i> <span class="text">{% trans %}update.please_wait{% endtrans %}</span></a>
            {% endif %}
        </div>
    </article>
</section>
<script type="text/javascript">
{% if nextStepRoute %}
    var nextStep = "{{ nextStepRoute }}";
    var nextStepDescription = "{% trans %}update_roadiz.download_archive{% endtrans %}";
{% else %}
    var nextStep = null;
    var nextStepDescription = null;
{% endif %}
</script>
{% endblock %}
